{% load static %}
<!doctype html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="{% static 'payment/style.css'%}" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link rel="stylesheet" href="{% static "css/w3.css"%}">

		<link
			href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,700;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
			rel="stylesheet"
		/>
		<title>Document</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
		<script type="application/javascript" crossorigin="anonymous" src="{{env}}/merchantpgpui/checkoutjs/merchants/{{mid}}.js"></script>
		<script src="{% static "js/paytm.js" %}"></script>
	</head>

	<body>
		<input type="hidden" value="{{txnToken}}" id="txnToken" />
		<input type="hidden" value="{{orderId}}" id="orderId" />
		<input type="hidden" value="{{amount}}" id="amount" />
		<div class="main_conatiner">
            <section class="order_section">
			<div class="order_leftSectio">
				<div class="order_details">
					<div class="title">Order Details</div>
					<div class="course_details">
						<img src="{{img.url}}" alt="course" />
						<div class="descprition">
							<div class="name">{{title}}</div>
							<div class="course_descprition">
								<div class="item">
									<img src="{% static 'payment/time.svg'%}" alt="time" />
									<p>{{duration}} hours</p>
								</div>
								<div class="item">
									<img src="{% static 'payment/book.svg'%}" alt="time" />
									<p>{{lessons}} Lessons</p>
								</div>
								<div class="item">
									<img src="{% static 'payment/coin.svg'%}" alt="time" />
									<p>{{total_xp}} XP</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="payment_bill">
					<div class="title">Payment</div>
					<div class="w3-container w3-padding">
						<div class="bill_item">
							<div class="w3-row w3-xlarge">
								Course price
								<e class="w3-right">â‚¹{{price}}</e>
							</div>
						</div>
						<p class="w3-large">
							Techsnap is required by law to collect applicable transaction
							taxes for purchases made in certain tax jurisdictions. By
							completing your purchase you agree to these Terms of Service.
						</p>
					</div>
					<form class="button">
						<button class="w3-button w3-green" type="button" id="jsCheckoutPayment" name="submit">Confirm Payment</button>
					</form>
				</div> 
			</div>

			<div class="order_rightSection">
				<div class="close">
					<p>X</p>
				</div>
				<div class="title">
					<h1>Now convert your Xp Directly into Coins !!</h1>
				</div>
                <div class="image">
                    <img src="{% static 'payment/pic.svg'%}" alt="pic" >
                </div>
                <div class="coins">
                    <div class="coins_item">
                        <img src="{% static 'payment/pot.svg'%}" alt="pot" >
                        <p>1000 XP</p>
                    </div>
                    <span>=</span>
                    <div class="coins_item">
                        <img src="{% static 'payment/coin.svg'%}" alt="pot" >
                        <p> 1000 Coins</p>
                    </div>
                </div>
                <!--<div class="button_redeem">
                    <button>Redeem Now</button>
                </div>-->
			</div>
		</section>
        </div>
		<script>
			var txnToken = document.getElementById("txnToken").value;
			var orderId = document.getElementById("orderId").value;
			var amount = document.getElementById("amount").value;
			document.getElementById("jsCheckoutPayment").addEventListener("click", function(){
			  openJsCheckoutPopup(orderId, txnToken, amount);
			});
		</script>
		<script>
			const select = document.querySelectorAll('.selectBtn');
			const option = document.querySelectorAll('.option');
			let index = 1;

			select.forEach((a) => {
				a.addEventListener('click', (b) => {
					const next = b.target.nextElementSibling;
					next.classList.toggle('toggle');
					next.style.zIndex = index++;
				});
			});
			option.forEach((a) => {
				a.addEventListener('click', (b) => {
					b.target.parentElement.classList.remove('toggle');

					const parent = b.target.closest('.select').children[0];
					parent.setAttribute('data-type', b.target.getAttribute('data-type'));
					parent.innerText = b.target.innerText;
				});
			});
		</script>
	</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.ckeditor.com/ckeditor5/18.0.0/classic/ckeditor.js"></script>

</html>